{"ast":null,"code":"var _jsxFileName = \"/Volumes/Anton/FullStack/myApp/client/src/components/ProfilePage/Profile.jsx\";\nimport React from 'react';\nimport { useState } from 'react';\nimport { MinLength, MaxLength, required } from '../../utils/Validators/validators';\nimport { Field } from 'redux-form';\nimport { Input } from '../common/FormsControls/Input';\nimport { reduxForm } from 'redux-form';\nimport userPhoto from '../../assets/user.png';\nimport StatusHook from '../Users/StatusHook';\nimport Status from '../Users/Status';\n\nconst Profile = props => {\n  let [editMode, setEditMode] = useState(false);\n\n  let onSubmit = data => {\n    const promise = props.saveProfile(data);\n    promise.then(() => setEditMode(false)).catch(\"error data\");\n  };\n\n  let photoSelect = e => {\n    if (e.target.files.length) {\n      const promise = props.savePhoto(e.target.files[0]);\n      promise.then(() => setEditMode(false));\n    }\n  };\n\n  debugger;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, props.globalError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 55\n    }\n  }, props.globalError) : null), editMode ? /*#__PURE__*/React.createElement(ProfileDataFormReduxForm, {\n    initialValues: props.profile,\n    editMode: setEditMode,\n    onSubmit: onSubmit,\n    profile: props.profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(UserProfileData, {\n    updateStatus: props.updateStatus,\n    status: props.status,\n    isOwner: props.isOwner,\n    editMode: () => {\n      setEditMode(true);\n    },\n    profile: props.profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 153\n    }\n  }), props.isOwner && editMode && /*#__PURE__*/React.createElement(\"input\", {\n    className: \"btn btn-info\",\n    style: {\n      margin: '0 auto',\n      display: 'block',\n      marginTop: '10px'\n    },\n    onChange: photoSelect,\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 43\n    }\n  }));\n};\n\nconst MinLengthCreator5 = MinLength(5);\nconst MaxLengthCreator40 = MaxLength(40);\n\nconst UserProfileForm = ({\n  error,\n  handleSubmit,\n  profile,\n  editMode\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"col-12 d-flex flex-column justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"Full name\"), \":  \", /*#__PURE__*/React.createElement(Field, {\n    type: \"text\",\n    id: \"fullName\",\n    name: \"fullName\",\n    className: \"form-control\",\n    placeholder: \"fullName\",\n    component: Input,\n    validate: [required, MinLengthCreator5, MaxLengthCreator40],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 40\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Looking for a job\"), \":  \", /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    id: \"lookingForAJob\",\n    name: \"lookingForAJob\",\n    className: \"form-control\",\n    component: Input,\n    validate: [required, MinLengthCreator5, MaxLengthCreator40],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 48\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"My professional skills\"), \":  \", /*#__PURE__*/React.createElement(Field, {\n    type: \"text\",\n    id: \"lookingForAJobDescription\",\n    name: \"lookingForAJobDescription\",\n    className: \"form-control\",\n    component: Input,\n    validate: [required, MinLengthCreator5, MaxLengthCreator40],\n    placeholder: \"My professional skills\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"About me\"), \":\", /*#__PURE__*/React.createElement(Field, {\n    type: \"text\",\n    id: \"aboutMe\",\n    name: \"aboutMe\",\n    className: \"form-control\",\n    placeholder: \"aboutMe\",\n    component: Input,\n    validate: [required, MinLengthCreator5, MaxLengthCreator40],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Contacts\"), \":\", Object.keys(profile.contacts).map(key => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, key, \": \", /*#__PURE__*/React.createElement(Field, {\n      type: \"text\",\n      id: key,\n      name: \"contacts.\" + key,\n      className: \"form-control\",\n      placeholder: key,\n      component: Input,\n      validate: [required, MinLengthCreator5, MaxLengthCreator40],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 40\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      marginTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"btn btn-danger\",\n    onClick: () => editMode(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Cancel\")), error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, error)) : null)));\n};\n\nconst ProfileDataFormReduxForm = reduxForm({\n  form: 'edit-profile'\n})(UserProfileForm);\n\nconst UserProfileData = ({\n  profile,\n  editMode,\n  isOwner,\n  updateStatus,\n  status\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 d-flex align-items-center justify-content-center flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, isOwner && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    style: {\n      width: '100px',\n      marginBottom: '10px'\n    },\n    onClick: editMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 38\n    }\n  }, \"edit\")), /*#__PURE__*/React.createElement(\"img\", {\n    src: profile.photos.small != null && profile.photos.large ? profile.photos.large : userPhoto,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, profile.fullName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, profile.aboutMe), Object.keys(profile.contacts).map(key => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, key, \":\", profile.contacts[key]));\n  }), isOwner ? /*#__PURE__*/React.createElement(StatusHook, {\n    updateStatus: updateStatus,\n    status: status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 31\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 90\n    }\n  }, \"Status: \" + status)))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Volumes/Anton/FullStack/myApp/client/src/components/ProfilePage/Profile.jsx"],"names":["React","useState","MinLength","MaxLength","required","Field","Input","reduxForm","userPhoto","StatusHook","Status","Profile","props","editMode","setEditMode","onSubmit","data","promise","saveProfile","then","catch","photoSelect","e","target","files","length","savePhoto","globalError","profile","updateStatus","status","isOwner","margin","display","marginTop","MinLengthCreator5","MaxLengthCreator40","UserProfileForm","error","handleSubmit","Object","keys","contacts","map","key","ProfileDataFormReduxForm","form","UserProfileData","width","marginBottom","photos","small","large","fullName","aboutMe"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport { MinLength, MaxLength, required } from '../../utils/Validators/validators'\nimport { Field } from 'redux-form'\nimport { Input } from '../common/FormsControls/Input'\nimport { reduxForm } from 'redux-form'\nimport userPhoto from '../../assets/user.png'\nimport StatusHook from '../Users/StatusHook'\nimport Status from '../Users/Status'\n\nconst Profile = (props) => {\n    let [editMode, setEditMode] = useState(false)\n    let onSubmit = (data) => {\n        const promise = props.saveProfile(data)\n        promise.then(\n            () => setEditMode(false)\n        )\n        .catch(\n            \"error data\"\n        )\n    }\n    let photoSelect = (e) => {\n        if (e.target.files.length) {\n        const promise=props.savePhoto(e.target.files[0])\n        promise.then(\n            () => setEditMode(false)\n        )\n        }\n    }\n    debugger\n    return (\n        <div>\n            <div className=\"error\">{props.globalError?<div className=\"btn btn-danger\" >{props.globalError}</div>:null}</div>\n            {editMode ? <ProfileDataFormReduxForm initialValues={props.profile} editMode={setEditMode} onSubmit={onSubmit} profile={props.profile} /> : <UserProfileData  updateStatus={props.updateStatus} status={props.status} isOwner={props.isOwner} editMode={() => { setEditMode(true) }} profile={props.profile} />}\n            {props.isOwner && editMode && <input className=\"btn btn-info\" style={{ margin: '0 auto', display: 'block', marginTop: '10px' }} onChange={photoSelect} type={\"file\"} />}\n           \n        </div>\n    )\n}\n\nconst MinLengthCreator5 = MinLength(5);\nconst MaxLengthCreator40 = MaxLength(40);\n\nconst UserProfileForm = ({ error, handleSubmit, profile, editMode }) => {\n    return <div className=\"container\">\n        <div className=\"row\">\n            <form onSubmit={handleSubmit} className=\"col-12 d-flex flex-column justify-content-center align-items-center\">\n                <div>\n                    <b>Full name</b>:  <Field type=\"text\" id=\"fullName\" name={\"fullName\"} className=\"form-control\" placeholder=\"fullName\"\n                        component={Input} validate={[required, MinLengthCreator5, MaxLengthCreator40]} />\n                </div>\n                <div>\n                    <b>Looking for a job</b>:  <Field type=\"checkbox\" id=\"lookingForAJob\" name={\"lookingForAJob\"} className=\"form-control\"\n                        component={Input} validate={[required, MinLengthCreator5, MaxLengthCreator40]} />\n                </div>\n                <div>\n                    <b>My professional skills</b>:  <Field type=\"text\" id=\"lookingForAJobDescription\" name={\"lookingForAJobDescription\"} className=\"form-control\"\n                        component={Input} validate={[required, MinLengthCreator5, MaxLengthCreator40]} placeholder=\"My professional skills\" />\n                </div>\n\n                <div>\n                    <b>About me</b>:\n                    <Field type=\"text\" id=\"aboutMe\" name={\"aboutMe\"} className=\"form-control\" placeholder=\"aboutMe\"\n                        component={Input} validate={[required, MinLengthCreator5, MaxLengthCreator40]} />\n                </div>\n                <div>\n                    <b>Contacts</b>:{Object.keys(profile.contacts).map(key => {\n                        return <div key={key} >\n                            <b>{key}: {<Field type=\"text\" id={key} name={\"contacts.\" + key} className=\"form-control\" placeholder={key}\n                                component={Input} validate={[required, MinLengthCreator5, MaxLengthCreator40]} />}</b>\n                        </div>\n                    })}\n                </div>\n                <div className=\"d-flex\" style={{ marginTop: '20px' }}>\n                    <button className=\"btn btn-success\">Save</button>\n                    <p className=\"btn btn-danger\" onClick={()=>editMode(false)}>Cancel</p>\n                </div>\n                {error ? <div className=\"form-error\">\n                    <p>{error}</p>\n                </div> : null\n                }\n            </form>\n        </div>\n    </div>\n\n}\n\nconst ProfileDataFormReduxForm = reduxForm({ form: 'edit-profile' })(UserProfileForm)\n\n\nconst UserProfileData = ({profile, editMode, isOwner, updateStatus,status}) => {\n    return (\n        <>\n       \n        <div className=\"container\">\n            <div className=\"row\" style={{ marginTop: '50px' }}>\n                <div className=\"col-12 d-flex align-items-center justify-content-center flex-column\">\n                    {isOwner && <div><button className=\"btn btn-warning\" style={{ width: '100px', marginBottom: '10px' }} onClick={editMode}>edit</button></div>}\n                    <img src={profile.photos.small != null && profile.photos.large ? profile.photos.large : userPhoto} alt=\"\" />\n                    <h1>{profile.fullName}</h1>\n                    <p>{profile.aboutMe}</p>\n                    {Object.keys(profile.contacts).map(key => {\n                        return <div key={key} >\n                            <b>{key}:{profile.contacts[key]}</b>\n                        </div>\n                    })}\n                     {isOwner?<StatusHook  updateStatus={updateStatus} status={status}/>:<p>{\"Status: \"+status}</p>}\n                </div>\n            </div>\n        </div>\n</>\n    )\n}\nexport default Profile"]},"metadata":{},"sourceType":"module"}