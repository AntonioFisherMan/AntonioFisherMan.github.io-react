{"ast":null,"code":"import { testAPI } from \"../api/api\";\nconst GET_GOODS_AC = \"GET_GOODS_AC\";\nconst GET_GOODBYID_AC = \"GET_GOODBYID_AC\";\nconst REMOVE_GOODBYID_AC = \"REMOVE_GOODBYID_AC\";\nconst CHANGE_PAGE_SIZE_GOODS = \"CHANGE_PAGE_SIZE_GOODS\";\nconst CHANGE_PAGE_NUMBER_GOODS = \"CHANGE_PAGE_NUMBER_GOODS\";\nconst CHANGE_SORT_BY = \"CHANGE_SORT_BY\";\nlet initialState = {\n  goods: [],\n  filterBy: 'Рекомендации',\n  pageSize: 3,\n  totalCount: 0,\n  pageNumber: 1,\n  goodItem: []\n};\n\nconst CatalogReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_GOODS_AC:\n      return { ...state,\n        goods: [...action.dataGoods.goods],\n        totalCount: action.dataGoods.totalCount\n      };\n\n    case GET_GOODBYID_AC:\n      return { ...state,\n        goodItem: [action.goodItem]\n      };\n\n    case REMOVE_GOODBYID_AC:\n      return { ...state,\n        goodItem: null\n      };\n\n    case CHANGE_PAGE_SIZE_GOODS:\n      return { ...state,\n        pageSize: action.pageSize\n      };\n\n    case CHANGE_PAGE_NUMBER_GOODS:\n      return { ...state,\n        pageNumber: action.pageNumber\n      };\n\n    case CHANGE_SORT_BY:\n      return { ...state,\n        filterBy: action.filterBy\n      };\n\n    case CHANGE_FILTER:\n      return { ...state,\n        goods: []\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const changePageSize = pageSize => ({\n  type: CHANGE_PAGE_SIZE_GOODS,\n  pageSize\n});\nexport const changePageNumber = pageNumber => ({\n  type: CHANGE_PAGE_NUMBER_GOODS,\n  pageNumber\n});\nexport const changeFilterBy = filterBy => ({\n  type: CHANGE_SORT_BY,\n  filterBy\n});\nexport const changeFilter = data => ({\n  type: CHANGE_FILTER,\n  data\n});\n\nconst getGoods = dataGoods => ({\n  type: GET_GOODS_AC,\n  dataGoods\n});\n\nconst getGood = goodItem => ({\n  type: GET_GOODBYID_AC,\n  goodItem\n});\n\nexport const removeGood = () => ({\n  type: REMOVE_GOODBYID_AC\n});\nexport const getGoodsThunk = (pageNumber, pageSize) => async dispatch => {\n  let response = await testAPI.getGoods(pageNumber, pageSize);\n  dispatch(changePageNumber(pageNumber));\n  dispatch(changePageSize(pageSize));\n  dispatch(getGoods(response));\n};\nexport const getGoodsThunkById = id => async dispatch => {\n  let response = await testAPI.getGood(id);\n  var data = response.data.data.good;\n  data.reviews = response.data.data.review;\n  dispatch(getGood(data));\n};\nexport const setReviews = (name, photo, images, reviews, rating, goodsId) => dispatch => {\n  testAPI.setReviews(name, photo, images, reviews, rating, goodsId);\n};\nexport default CatalogReducer;","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/CatalogReducer.js"],"names":["testAPI","GET_GOODS_AC","GET_GOODBYID_AC","REMOVE_GOODBYID_AC","CHANGE_PAGE_SIZE_GOODS","CHANGE_PAGE_NUMBER_GOODS","CHANGE_SORT_BY","initialState","goods","filterBy","pageSize","totalCount","pageNumber","goodItem","CatalogReducer","state","action","type","dataGoods","CHANGE_FILTER","changePageSize","changePageNumber","changeFilterBy","changeFilter","data","getGoods","getGood","removeGood","getGoodsThunk","dispatch","response","getGoodsThunkById","id","good","reviews","review","setReviews","name","photo","images","rating","goodsId"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AAEA,MAAMC,YAAY,GAAG,cAArB;AACA,MAAMC,eAAe,GAAG,iBAAxB;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;AACA,MAAMC,sBAAsB,GAAG,wBAA/B;AACA,MAAMC,wBAAwB,GAAG,0BAAjC;AACA,MAAMC,cAAc,GAAC,gBAArB;AAGA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,QAAQ,EAAC,cAFQ;AAGjBC,EAAAA,QAAQ,EAAE,CAHO;AAIjBC,EAAAA,UAAU,EAAE,CAJK;AAKjBC,EAAAA,UAAU,EAAE,CALK;AAMjBC,EAAAA,QAAQ,EAAE;AANO,CAAnB;;AASA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAkC;AACvD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKhB,YAAL;AACE,aAAO,EAAE,GAAGc,KAAL;AAAYP,QAAAA,KAAK,EAAE,CAAC,GAAGQ,MAAM,CAACE,SAAP,CAAiBV,KAArB,CAAnB;AAAgDG,QAAAA,UAAU,EAAEK,MAAM,CAACE,SAAP,CAAiBP;AAA7E,OAAP;;AACF,SAAKT,eAAL;AACE,aAAO,EAAE,GAAGa,KAAL;AAAYF,QAAAA,QAAQ,EAAE,CAACG,MAAM,CAACH,QAAR;AAAtB,OAAP;;AACF,SAAKV,kBAAL;AACE,aAAO,EAAE,GAAGY,KAAL;AAAYF,QAAAA,QAAQ,EAAE;AAAtB,OAAP;;AACF,SAAKT,sBAAL;AACE,aAAO,EAAE,GAAGW,KAAL;AAAYL,QAAAA,QAAQ,EAAEM,MAAM,CAACN;AAA7B,OAAP;;AACF,SAAKL,wBAAL;AACE,aAAO,EAAE,GAAGU,KAAL;AAAYH,QAAAA,UAAU,EAAEI,MAAM,CAACJ;AAA/B,OAAP;;AACF,SAAKN,cAAL;AACE,aAAM,EAAC,GAAGS,KAAJ;AAAUN,QAAAA,QAAQ,EAACO,MAAM,CAACP;AAA1B,OAAN;;AACF,SAAKU,aAAL;AACE,aAAM,EAAC,GAAGJ,KAAJ;AAAUP,QAAAA,KAAK,EAAC;AAAhB,OAAN;;AACF;AACE,aAAOO,KAAP;AAhBJ;AAkBD,CAnBD;;AAqBA,OAAO,MAAMK,cAAc,GAAIV,QAAD,KAAe;AAAEO,EAAAA,IAAI,EAAEb,sBAAR;AAAgCM,EAAAA;AAAhC,CAAf,CAAvB;AACP,OAAO,MAAMW,gBAAgB,GAAIT,UAAD,KAAiB;AAACK,EAAAA,IAAI,EAACZ,wBAAN;AAAgCO,EAAAA;AAAhC,CAAjB,CAAzB;AACP,OAAO,MAAMU,cAAc,GAAEb,QAAD,KAAa;AAACQ,EAAAA,IAAI,EAACX,cAAN;AAAqBG,EAAAA;AAArB,CAAb,CAArB;AACP,OAAO,MAAMc,YAAY,GAAEC,IAAD,KAAS;AAACP,EAAAA,IAAI,EAACE,aAAN;AAAqBK,EAAAA;AAArB,CAAT,CAAnB;;AAEP,MAAMC,QAAQ,GAAIP,SAAD,KAAgB;AAAED,EAAAA,IAAI,EAAEhB,YAAR;AAAsBiB,EAAAA;AAAtB,CAAhB,CAAjB;;AACA,MAAMQ,OAAO,GAAIb,QAAD,KAAe;AAAEI,EAAAA,IAAI,EAAEf,eAAR;AAAyBW,EAAAA;AAAzB,CAAf,CAAhB;;AACA,OAAO,MAAMc,UAAU,GAAG,OAAO;AAACV,EAAAA,IAAI,EAAEd;AAAP,CAAP,CAAnB;AAGP,OAAO,MAAMyB,aAAa,GAAG,CAAChB,UAAD,EAAaF,QAAb,KAA0B,MAAOmB,QAAP,IAAoB;AACzE,MAAIC,QAAQ,GAAG,MAAM9B,OAAO,CAACyB,QAAR,CAAiBb,UAAjB,EAA6BF,QAA7B,CAArB;AACAmB,EAAAA,QAAQ,CAACR,gBAAgB,CAACT,UAAD,CAAjB,CAAR;AACAiB,EAAAA,QAAQ,CAACT,cAAc,CAACV,QAAD,CAAf,CAAR;AACAmB,EAAAA,QAAQ,CAACJ,QAAQ,CAACK,QAAD,CAAT,CAAR;AACD,CALM;AAOP,OAAO,MAAMC,iBAAiB,GAAIC,EAAD,IAAQ,MAAOH,QAAP,IAAoB;AAC3D,MAAIC,QAAQ,GAAG,MAAM9B,OAAO,CAAC0B,OAAR,CAAgBM,EAAhB,CAArB;AACA,MAAIR,IAAI,GAAGM,QAAQ,CAACN,IAAT,CAAcA,IAAd,CAAmBS,IAA9B;AACAT,EAAAA,IAAI,CAACU,OAAL,GAAeJ,QAAQ,CAACN,IAAT,CAAcA,IAAd,CAAmBW,MAAlC;AACAN,EAAAA,QAAQ,CAACH,OAAO,CAACF,IAAD,CAAR,CAAR;AACD,CALM;AAOP,OAAO,MAAMY,UAAU,GAAC,CAACC,IAAD,EAAMC,KAAN,EAAYC,MAAZ,EAAmBL,OAAnB,EAA2BM,MAA3B,EAAkCC,OAAlC,KAA4CZ,QAAQ,IAAE;AAC5E7B,EAAAA,OAAO,CAACoC,UAAR,CAAmBC,IAAnB,EAAwBC,KAAxB,EAA8BC,MAA9B,EAAqCL,OAArC,EAA6CM,MAA7C,EAAoDC,OAApD;AACD,CAFM;AAGP,eAAe3B,cAAf","sourcesContent":["import { testAPI } from \"../api/api\";\n\nconst GET_GOODS_AC = \"GET_GOODS_AC\";\nconst GET_GOODBYID_AC = \"GET_GOODBYID_AC\";\nconst REMOVE_GOODBYID_AC = \"REMOVE_GOODBYID_AC\";\nconst CHANGE_PAGE_SIZE_GOODS = \"CHANGE_PAGE_SIZE_GOODS\";\nconst CHANGE_PAGE_NUMBER_GOODS = \"CHANGE_PAGE_NUMBER_GOODS\"\nconst CHANGE_SORT_BY=\"CHANGE_SORT_BY\"\n\n\nlet initialState = {\n  goods: [],\n  filterBy:'Рекомендации',\n  pageSize: 3,\n  totalCount: 0,\n  pageNumber: 1,\n  goodItem: [],\n};\n\nconst CatalogReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_GOODS_AC:\n      return { ...state, goods: [...action.dataGoods.goods], totalCount: action.dataGoods.totalCount };\n    case GET_GOODBYID_AC:\n      return { ...state, goodItem: [action.goodItem] };\n    case REMOVE_GOODBYID_AC:\n      return { ...state, goodItem: null }\n    case CHANGE_PAGE_SIZE_GOODS:\n      return { ...state, pageSize: action.pageSize }\n    case CHANGE_PAGE_NUMBER_GOODS:\n      return { ...state, pageNumber: action.pageNumber }\n    case CHANGE_SORT_BY:\n      return{...state,filterBy:action.filterBy}\n    case CHANGE_FILTER:\n      return{...state,goods:[]}\n    default:\n      return state;\n  }\n};\n\nexport const changePageSize = (pageSize) => ({ type: CHANGE_PAGE_SIZE_GOODS, pageSize })\nexport const changePageNumber = (pageNumber) => ({type:CHANGE_PAGE_NUMBER_GOODS, pageNumber })\nexport const changeFilterBy=(filterBy)=>({type:CHANGE_SORT_BY,filterBy});\nexport const changeFilter=(data)=>({type:CHANGE_FILTER, data})\n\nconst getGoods = (dataGoods) => ({ type: GET_GOODS_AC, dataGoods });\nconst getGood = (goodItem) => ({ type: GET_GOODBYID_AC, goodItem });\nexport const removeGood = () => ({type: REMOVE_GOODBYID_AC});\n\n\nexport const getGoodsThunk = (pageNumber, pageSize) => async (dispatch) => {\n  let response = await testAPI.getGoods(pageNumber, pageSize);\n  dispatch(changePageNumber(pageNumber))\n  dispatch(changePageSize(pageSize))\n  dispatch(getGoods(response));\n};\n\nexport const getGoodsThunkById = (id) => async (dispatch) => {\n  let response = await testAPI.getGood(id);\n  var data = response.data.data.good;\n  data.reviews = response.data.data.review;\n  dispatch(getGood(data));\n};\n\nexport const setReviews=(name,photo,images,reviews,rating,goodsId)=>dispatch=>{\n  testAPI.setReviews(name,photo,images,reviews,rating,goodsId)\n}\nexport default CatalogReducer;\n"]},"metadata":{},"sourceType":"module"}