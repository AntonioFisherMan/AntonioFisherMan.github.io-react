{"ast":null,"code":"import React from 'react';\nconst CARD_ADD_ITEMS = \"CARD_ADD_ITEMS\";\nconst CARD_REMOVE_ITEMS = \"CARD_REMOVE_ITEMS\";\nlet initialState = {\n  items: [],\n  data: null,\n  isLoaded: false,\n  totalPrice: 0,\n  totalItemCount: 0\n};\n\nconst CardReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CARD_ADD_ITEMS:\n      debugger;\n      return { ...state,\n        items: [...state.items, action.payload],\n        isLoaded: true,\n        totalItemCount: state.items.reduce((count, item) => count += action.payload._id === item._id ? 1 : 0, 0)\n      };\n\n    case CARD_REMOVE_ITEMS:\n      return { ...state,\n        items: state.items.filter(i => i._id != action.itemId)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setProduct = (payload, data) => ({\n  type: CARD_ADD_ITEMS,\n  payload: payload,\n  data\n});\nexport const removeProduct = itemId => ({\n  type: CARD_REMOVE_ITEMS,\n  itemId\n});\nexport default CardReducer;","map":{"version":3,"sources":["/Users/anton/Desktop/myApp/client/src/redux/CardReducer.js"],"names":["React","CARD_ADD_ITEMS","CARD_REMOVE_ITEMS","initialState","items","data","isLoaded","totalPrice","totalItemCount","CardReducer","state","action","type","payload","reduce","count","item","_id","filter","i","itemId","setProduct","removeProduct"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACC,MAAMC,cAAc,GAAC,gBAArB;AACA,MAAMC,iBAAiB,GAAC,mBAAxB;AACD,IAAIC,YAAY,GAAC;AACfC,EAAAA,KAAK,EAAC,EADS;AAEfC,EAAAA,IAAI,EAAC,IAFU;AAGfC,EAAAA,QAAQ,EAAC,KAHM;AAIfC,EAAAA,UAAU,EAAC,CAJI;AAKfC,EAAAA,cAAc,EAAC;AALA,CAAjB;;AAQA,MAAMC,WAAW,GAAC,CAACC,KAAK,GAACP,YAAP,EAAoBQ,MAApB,KAA6B;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACA,SAAKX,cAAL;AACE;AACE,aAAM,EAAC,GAAGS,KAAJ;AAAWN,QAAAA,KAAK,EAAC,CAAC,GAAGM,KAAK,CAACN,KAAV,EAAgBO,MAAM,CAACE,OAAvB,CAAjB;AAAiDP,QAAAA,QAAQ,EAAC,IAA1D;AAA+DE,QAAAA,cAAc,EAACE,KAAK,CAACN,KAAN,CAAYU,MAAZ,CAAmB,CAACC,KAAD,EAAOC,IAAP,KAAcD,KAAK,IAAGJ,MAAM,CAACE,OAAP,CAAeI,GAAf,KAAqBD,IAAI,CAACC,GAA3B,GAAgC,CAAhC,GAAkC,CAA1E,EAA4E,CAA5E;AAA9E,OAAN;;AACA,SAAKf,iBAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFN,QAAAA,KAAK,EAACM,KAAK,CAACN,KAAN,CAAYc,MAAZ,CAAmBC,CAAC,IAAEA,CAAC,CAACF,GAAF,IAAON,MAAM,CAACS,MAApC;AAFJ,OAAN;;AAIP;AAAQ,aAAOV,KAAP;AATT;AAYF,CAbD;;AAeA,OAAO,MAAMW,UAAU,GAAC,CAACR,OAAD,EAASR,IAAT,MAAiB;AAACO,EAAAA,IAAI,EAACX,cAAN;AAAqBY,EAAAA,OAAO,EAACA,OAA7B;AAAqCR,EAAAA;AAArC,CAAjB,CAAjB;AACP,OAAO,MAAMiB,aAAa,GAAEF,MAAD,KAAW;AAACR,EAAAA,IAAI,EAACV,iBAAN;AAAwBkB,EAAAA;AAAxB,CAAX,CAApB;AAGP,eAAeX,WAAf","sourcesContent":["import React from 'react'\n const CARD_ADD_ITEMS=\"CARD_ADD_ITEMS\"\n const CARD_REMOVE_ITEMS=\"CARD_REMOVE_ITEMS\"\nlet initialState={\n  items:[],\n  data:null,\n  isLoaded:false,\n  totalPrice:0,\n  totalItemCount:0\n}\n\nconst CardReducer=(state=initialState,action)=>{\n   switch(action.type){\n   case CARD_ADD_ITEMS:\n     debugger\n       return{...state, items:[...state.items,action.payload],isLoaded:true,totalItemCount:state.items.reduce((count,item)=>count+=(action.payload._id===item._id)?1:0,0)}\n       case CARD_REMOVE_ITEMS:\n           return{\n               ...state,\n               items:state.items.filter(i=>i._id!=action.itemId)\n           }\n    default:return state;\n   }\n  \n}\n\nexport const setProduct=(payload,data)=>({type:CARD_ADD_ITEMS,payload:payload,data})\nexport const removeProduct=(itemId)=>({type:CARD_REMOVE_ITEMS,itemId})\n\n\nexport default CardReducer"]},"metadata":{},"sourceType":"module"}