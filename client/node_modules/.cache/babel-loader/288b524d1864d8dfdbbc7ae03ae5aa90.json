{"ast":null,"code":"import { usersAPI } from \"../../src/api/api\"; //HelperFunction\n\nimport { followUnfollowChange } from \"../utils/helperFunctions/followUnfollowChange\";\nconst FOLLOW_AC = \"Follow\";\nconst UN_FOLLOW_AC = \"UnFollow\";\nconst SETUSERS_AC = \"SetUsers\";\nconst SETPAGE_AC = \"SetPage\";\nconst SETTOTAL_AC = \"SetTotalCount\";\nconst SETFETCH_AC = \"SetFetch\";\nconst DELETEUSER_AC = \"DeleteUser\";\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalItemsCount: 0,\n  currentPage: 1,\n  isFetching: false\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW_AC:\n      return { ...state,\n        users: followUnfollowChange(state.users, \"id\", action.user_id, {\n          followed: true\n        })\n      };\n\n    case UN_FOLLOW_AC:\n      return { ...state,\n        users: followUnfollowChange(state.users, \"id\", action.user_id, {\n          followed: false\n        })\n      };\n\n    case SETUSERS_AC:\n      {\n        return { ...state,\n          users: [...action.users]\n        };\n      }\n\n    case SETPAGE_AC:\n      {\n        return { ...state,\n          currentPage: action.page_id\n        };\n      }\n\n    case SETTOTAL_AC:\n      {\n        return { ...state,\n          totalItemsCount: action.totalCount\n        };\n      }\n\n    case SETFETCH_AC:\n      {\n        return { ...state,\n          isFetching: action.isFetching\n        };\n      }\n\n    default:\n      return state;\n  }\n}; //ACTION\n\n\nexport const follow = user_id => ({\n  type: FOLLOW_AC,\n  user_id\n});\nexport const unfollow = user_id => ({\n  type: UN_FOLLOW_AC,\n  user_id\n});\nexport const setUsers = users => ({\n  type: SETUSERS_AC,\n  users\n});\nexport const setPage = page_id => ({\n  type: SETPAGE_AC,\n  page_id\n});\nexport const setTotalCount = totalCount => ({\n  type: SETTOTAL_AC,\n  totalCount\n});\nexport const setFetch = isFetching => ({\n  type: SETFETCH_AC,\n  isFetching\n});\nexport const deleteUser = user_id => ({\n  type: DELETEUSER_AC,\n  user_id\n}); //THUNK\n\nexport const getUsersThunkCreator = (currentPage, pageSize) => async dispatch => {\n  dispatch(setFetch(true));\n  let data = await usersAPI.getUsers(currentPage, pageSize);\n  dispatch(setFetch(false));\n  dispatch(setUsers(data.items));\n  dispatch(setTotalCount(data.totalCount));\n};\nexport default userReducer;","map":{"version":3,"sources":["/Volumes/Anton/FullStack/myApp/client/src/redux/UsersReducer.js"],"names":["usersAPI","followUnfollowChange","FOLLOW_AC","UN_FOLLOW_AC","SETUSERS_AC","SETPAGE_AC","SETTOTAL_AC","SETFETCH_AC","DELETEUSER_AC","initialState","users","pageSize","totalItemsCount","currentPage","isFetching","userReducer","state","action","type","user_id","followed","page_id","totalCount","follow","unfollow","setUsers","setPage","setTotalCount","setFetch","deleteUser","getUsersThunkCreator","dispatch","data","getUsers","items"],"mappings":"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","sourcesContent":["import { usersAPI } from \"../../src/api/api\";\n\n//HelperFunction\nimport { followUnfollowChange } from \"../utils/helperFunctions/followUnfollowChange\";\n\n\nconst FOLLOW_AC = \"Follow\";\nconst UN_FOLLOW_AC = \"UnFollow\";\nconst SETUSERS_AC = \"SetUsers\";\nconst SETPAGE_AC = \"SetPage\";\nconst SETTOTAL_AC = \"SetTotalCount\";\nconst SETFETCH_AC = \"SetFetch\";\nconst DELETEUSER_AC = \"DeleteUser\";\n\n\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalItemsCount: 0,\n  currentPage: 1,\n  isFetching: false,\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW_AC:\n      return {\n        ...state,\n        users:followUnfollowChange(state.users,\"id\",action.user_id,{followed:true})\n      };\n    case UN_FOLLOW_AC:\n      return {\n        ...state,\n        users:followUnfollowChange(state.users,\"id\",action.user_id,{followed:false})\n      };\n    case SETUSERS_AC: {\n\n      return { ...state, users: [...action.users] };\n    }\n    case SETPAGE_AC: {\n      return { ...state, currentPage: action.page_id };\n    }\n    case SETTOTAL_AC: {\n      return { ...state, totalItemsCount: action.totalCount };\n    }\n    case SETFETCH_AC: {\n      return { ...state, isFetching: action.isFetching };\n    }\n    default: return state\n  }\n};\n\n//ACTION\n\nexport const follow = (user_id) => ({ type: FOLLOW_AC, user_id });\nexport const unfollow = (user_id) => ({ type: UN_FOLLOW_AC, user_id });\nexport const setUsers = (users) => ({ type: SETUSERS_AC, users });\nexport const setPage = (page_id) => ({ type: SETPAGE_AC, page_id });\nexport const setTotalCount = (totalCount) => ({type: SETTOTAL_AC,totalCount,});\nexport const setFetch = (isFetching) => ({ type: SETFETCH_AC, isFetching });\nexport const deleteUser = (user_id) => ({ type: DELETEUSER_AC, user_id });\n\n//THUNK\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {\n  dispatch(setFetch(true));\n  let data = await usersAPI.getUsers(currentPage, pageSize);\n  dispatch(setFetch(false));\n  dispatch(setUsers(data.items));\n  dispatch(setTotalCount(data.totalCount));\n};\n\n\nexport default userReducer;\n"]},"metadata":{},"sourceType":"module"}