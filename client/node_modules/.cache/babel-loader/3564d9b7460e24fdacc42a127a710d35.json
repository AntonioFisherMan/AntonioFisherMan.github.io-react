{"ast":null,"code":"import { testAPI } from '../api/api';\nimport { returnErrors, returnSuccess } from './SuccessErrorReducer';\nconst SET_REVIEWS = \"SET_REVIEW\";\nconst INITIAL_REVIEWS = \"INITIAL_REVIEWS\";\nlet initialState = {\n  reviews: []\n};\n\nconst ReviewsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIAL_REVIEWS:\n      return initialState;\n\n    case SET_REVIEWS:\n      debugger;\n      return { ...state,\n        reviews: [action.item]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setItemOfReview = item => ({\n  type: SET_REVIEWS,\n  item\n});\nexport const setReviews = (data, goodsId, reviewText, rating) => (dispatch, getState) => {\n  testAPI.setReviews(getState().auth.user.name, data, goodsId, reviewText, rating).then(response => {\n    if (response.data.success) {\n      dispatch(returnSuccess(response.data.message, response.status, 'SUCCESS_FILE_UPLOAD'));\n      dispatch({\n        type: INITIAL_REVIEWS\n      });\n    } else {\n      debugger;\n      dispatch(returnErrors(response.data.message, response.status, 'ERRORS_FILE_UPLOAD'));\n      dispatch({\n        type: INITIAL_REVIEWS\n      });\n    }\n  });\n};\nexport default ReviewsReducer;","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/ReviewsReducer.js"],"names":["testAPI","returnErrors","returnSuccess","SET_REVIEWS","INITIAL_REVIEWS","initialState","reviews","ReviewsReducer","state","action","type","item","setItemOfReview","setReviews","data","goodsId","reviewText","rating","dispatch","getState","auth","user","name","then","response","success","message","status"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AAEA,SAASC,YAAT,EAAsBC,aAAtB,QAA2C,uBAA3C;AACA,MAAMC,WAAW,GAAC,YAAlB;AACA,MAAMC,eAAe,GAAC,iBAAtB;AACA,IAAIC,YAAY,GAAC;AACbC,EAAAA,OAAO,EAAC;AADK,CAAjB;;AAIA,MAAMC,cAAc,GAAC,CAACC,KAAK,GAACH,YAAP,EAAoBI,MAApB,KAA6B;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKN,eAAL;AACI,aAAOC,YAAP;;AACJ,SAAKF,WAAL;AACI;AACT,aAAM,EAAC,GAAGK,KAAJ;AAAUF,QAAAA,OAAO,EAAC,CAACG,MAAM,CAACE,IAAR;AAAlB,OAAN;;AACK;AACI,aAAOH,KAAP;AAPR;AASH,CAVD;;AAYA,OAAO,MAAMI,eAAe,GAAED,IAAD,KAAS;AAACD,EAAAA,IAAI,EAACP,WAAN;AAAkBQ,EAAAA;AAAlB,CAAT,CAAtB;AAEP,OAAO,MAAME,UAAU,GAAC,CAACC,IAAD,EAAMC,OAAN,EAAcC,UAAd,EAAyBC,MAAzB,KAAkC,CAACC,QAAD,EAAUC,QAAV,KAAqB;AAC3EnB,EAAAA,OAAO,CAACa,UAAR,CAAmBM,QAAQ,GAAGC,IAAX,CAAgBC,IAAhB,CAAqBC,IAAxC,EAA6CR,IAA7C,EAAkDC,OAAlD,EAA0DC,UAA1D,EAAqEC,MAArE,EAA6EM,IAA7E,CAAkFC,QAAQ,IAAE;AACpF,QAAIA,QAAQ,CAACV,IAAT,CAAcW,OAAlB,EAA2B;AACvBP,MAAAA,QAAQ,CAAChB,aAAa,CAACsB,QAAQ,CAACV,IAAT,CAAcY,OAAf,EAAuBF,QAAQ,CAACG,MAAhC,EAAuC,qBAAvC,CAAd,CAAR;AACAT,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAACN;AAAN,OAAD,CAAR;AACH,KAHD,MAGO;AACH;AACAc,MAAAA,QAAQ,CAACjB,YAAY,CAACuB,QAAQ,CAACV,IAAT,CAAcY,OAAf,EAAuBF,QAAQ,CAACG,MAAhC,EAAuC,oBAAvC,CAAb,CAAR;AACAT,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAACN;AAAN,OAAD,CAAR;AACH;AACR,GATD;AAUD,CAXI;AAaP,eAAeG,cAAf","sourcesContent":["import {testAPI} from '../api/api'\n\nimport { returnErrors,returnSuccess } from './SuccessErrorReducer'\nconst SET_REVIEWS=\"SET_REVIEW\"\nconst INITIAL_REVIEWS=\"INITIAL_REVIEWS\"\nlet initialState={\n    reviews:[]\n}\n\nconst ReviewsReducer=(state=initialState,action)=>{\n    switch (action.type) {\n        case INITIAL_REVIEWS:\n            return initialState\n        case SET_REVIEWS:\n            debugger\n   return{...state,reviews:[action.item]}\n        default:\n            return state;      \n    }\n}\n\nexport const setItemOfReview=(item)=>({type:SET_REVIEWS,item})\n\nexport const setReviews=(data,goodsId,reviewText,rating)=>(dispatch,getState)=>{\n    testAPI.setReviews(getState().auth.user.name,data,goodsId,reviewText,rating).then(response=>{\n            if (response.data.success) {\n                dispatch(returnSuccess(response.data.message,response.status,'SUCCESS_FILE_UPLOAD'))\n                dispatch({type:INITIAL_REVIEWS})\n            } else {\n                debugger\n                dispatch(returnErrors(response.data.message,response.status,'ERRORS_FILE_UPLOAD'))\n                dispatch({type:INITIAL_REVIEWS})\n            }\n    })\n  }\n\nexport default ReviewsReducer"]},"metadata":{},"sourceType":"module"}