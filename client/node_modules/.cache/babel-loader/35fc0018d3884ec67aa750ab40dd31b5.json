{"ast":null,"code":"import { testAPI } from '../api/api';\nimport { response } from 'express';\nimport { returnErrors, returnSuccess } from './SuccessErrorReducer';\nconst SET_REVIEWS = \"SET_REVIEW\";\nlet initialState = {\n  reviews: []\n};\n\nconst ReviewsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_REVIEWS:\n      debugger;\n      return { ...state,\n        reviews: [action.item]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setItemOfReview = item => ({\n  type: SET_REVIEWS,\n  item\n});\nexport const setReviews = (data, goodsId) => (dispatch, getState) => {\n  debugger;\n  testAPI.setReviews(getState().auth.user.name, data, goodsId).then(response => {\n    if (response.data.success) {\n      dispatch(returnSuccess(response.data.message, response.status, 'SUCCESS_FILE_UPLOAD'));\n    } else {\n      dispatch(returnErrors(response.data.message, response.status, 'ERRORS_FILE_UPLOAD'));\n    }\n  });\n};\nexport default ReviewsReducer;","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/ReviewsReducer.js"],"names":["testAPI","response","returnErrors","returnSuccess","SET_REVIEWS","initialState","reviews","ReviewsReducer","state","action","type","item","setItemOfReview","setReviews","data","goodsId","dispatch","getState","auth","user","name","then","success","message","status"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,SAASC,YAAT,EAAsBC,aAAtB,QAA2C,uBAA3C;AACA,MAAMC,WAAW,GAAC,YAAlB;AAEA,IAAIC,YAAY,GAAC;AACbC,EAAAA,OAAO,EAAC;AADK,CAAjB;;AAIA,MAAMC,cAAc,GAAC,CAACC,KAAK,GAACH,YAAP,EAAoBI,MAApB,KAA6B;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKN,WAAL;AACI;AACT,aAAM,EAAC,GAAGI,KAAJ;AAAUF,QAAAA,OAAO,EAAC,CAACG,MAAM,CAACE,IAAR;AAAlB,OAAN;;AACK;AACI,aAAOH,KAAP;AALR;AAOH,CARD;;AAUA,OAAO,MAAMI,eAAe,GAAED,IAAD,KAAS;AAACD,EAAAA,IAAI,EAACN,WAAN;AAAkBO,EAAAA;AAAlB,CAAT,CAAtB;AAEP,OAAO,MAAME,UAAU,GAAC,CAACC,IAAD,EAAMC,OAAN,KAAgB,CAACC,QAAD,EAAUC,QAAV,KAAqB;AACzD;AACAjB,EAAAA,OAAO,CAACa,UAAR,CAAmBI,QAAQ,GAAGC,IAAX,CAAgBC,IAAhB,CAAqBC,IAAxC,EAA6CN,IAA7C,EAAkDC,OAAlD,EAA2DM,IAA3D,CAAgEpB,QAAQ,IAAE;AAClE,QAAIA,QAAQ,CAACa,IAAT,CAAcQ,OAAlB,EAA2B;AACvBN,MAAAA,QAAQ,CAACb,aAAa,CAACF,QAAQ,CAACa,IAAT,CAAcS,OAAf,EAAuBtB,QAAQ,CAACuB,MAAhC,EAAuC,qBAAvC,CAAd,CAAR;AACH,KAFD,MAEO;AACHR,MAAAA,QAAQ,CAACd,YAAY,CAACD,QAAQ,CAACa,IAAT,CAAcS,OAAf,EAAuBtB,QAAQ,CAACuB,MAAhC,EAAuC,oBAAvC,CAAb,CAAR;AACH;AAER,GAPD;AAQD,CAVI;AAYP,eAAejB,cAAf","sourcesContent":["import {testAPI} from '../api/api'\nimport { response } from 'express'\nimport { returnErrors,returnSuccess } from './SuccessErrorReducer'\nconst SET_REVIEWS=\"SET_REVIEW\"\n\nlet initialState={\n    reviews:[]\n}\n\nconst ReviewsReducer=(state=initialState,action)=>{\n    switch (action.type) {\n        case SET_REVIEWS:\n            debugger\n   return{...state,reviews:[action.item]}\n        default:\n            return state;      \n    }\n}\n\nexport const setItemOfReview=(item)=>({type:SET_REVIEWS,item})\n\nexport const setReviews=(data,goodsId)=>(dispatch,getState)=>{\n    debugger\n    testAPI.setReviews(getState().auth.user.name,data,goodsId).then(response=>{\n            if (response.data.success) {\n                dispatch(returnSuccess(response.data.message,response.status,'SUCCESS_FILE_UPLOAD'))\n            } else {\n                dispatch(returnErrors(response.data.message,response.status,'ERRORS_FILE_UPLOAD'))\n            }\n        \n    })\n  }\n\nexport default ReviewsReducer"]},"metadata":{},"sourceType":"module"}