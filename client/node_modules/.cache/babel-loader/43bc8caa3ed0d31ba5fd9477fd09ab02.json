{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anton/Desktop/myApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anton/Desktop/myApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/anton/Desktop/myApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/anton/Desktop/myApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{testAPI}from\"../api/api\";var GET_GOODS_AC=\"GET_GOODS_AC\";var initialState={goods:[]};var CatalogReducer=function CatalogReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_GOODS_AC:return _objectSpread({},state,{goods:_toConsumableArray(action.dataGoods)});default:return state;}};var getGoods=function getGoods(dataGoods){return{type:GET_GOODS_AC,dataGoods:dataGoods};};export var getGoodsThunk=function getGoodsThunk(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var token,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=getState().auth.token;_context.next=3;return testAPI.getGoods(token);case 3:response=_context.sent;dispatch(getGoods(response));case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export default CatalogReducer;","map":{"version":3,"sources":["/Users/anton/Desktop/myApp/client/src/redux/CatalogReducer.js"],"names":["testAPI","GET_GOODS_AC","initialState","goods","CatalogReducer","state","action","type","dataGoods","getGoods","getGoodsThunk","dispatch","getState","token","auth","response"],"mappings":"omBAAA,OAASA,OAAT,KAAwB,YAAxB,CAEA,GAAMC,CAAAA,YAAY,CAAC,cAAnB,CACA,GAAIC,CAAAA,YAAY,CAAC,CACbC,KAAK,CAAC,EADO,CAAjB,CAIA,GAAMC,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,EAA6B,IAA5BC,CAAAA,KAA4B,2DAAtBH,YAAsB,IAATI,CAAAA,MAAS,2CAC9C,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKN,CAAAA,YAAL,CACI,wBAAUI,KAAV,EAAgBF,KAAK,oBAAKG,MAAM,CAACE,SAAZ,CAArB,GACJ,QAAS,MAAOH,CAAAA,KAAP,CAHb,CAKH,CAND,CAOA,GAAMI,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,CAACD,SAAD,QAAc,CAACD,IAAI,CAACN,YAAN,CAAmBO,SAAS,CAATA,SAAnB,CAAd,EAAf,CAGA,MAAO,IAAME,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,kGAAI,iBAAMC,QAAN,CAAeC,QAAf,qIACvBC,KADuB,CAChBD,QAAQ,GAAGE,IAAX,CAAgBD,KADA,uBAEPb,CAAAA,OAAO,CAACS,QAAR,CAAiBI,KAAjB,CAFO,QAEvBE,QAFuB,eAGvBJ,QAAQ,CAACF,QAAQ,CAACM,QAAD,CAAT,CAAR,CAHuB,sDAAJ,oEAApB,CAOP,cAAeX,CAAAA,cAAf","sourcesContent":["import { testAPI } from \"../api/api\"\n\nconst GET_GOODS_AC=\"GET_GOODS_AC\"\nlet initialState={\n    goods:[]\n}\n\nconst CatalogReducer=(state=initialState,action)=>{\n    switch(action.type){\n        case GET_GOODS_AC:\n            return{...state,goods:[...action.dataGoods]}\n        default: return state\n    }\n}\nconst getGoods=(dataGoods)=>({type:GET_GOODS_AC,dataGoods})\n\n\nexport const getGoodsThunk=()=>async(dispatch,getState)=>{\n    let token =getState().auth.token\n    let response= await testAPI.getGoods(token)\n        dispatch(getGoods(response))\n\n}\n\nexport default CatalogReducer"]},"metadata":{},"sourceType":"module"}