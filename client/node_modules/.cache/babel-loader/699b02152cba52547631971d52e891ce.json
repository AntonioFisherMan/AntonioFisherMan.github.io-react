{"ast":null,"code":"import { testAPI } from '../api/api';\nimport { returnErrors, returnSuccess } from './SuccessErrorReducer';\nconst SET_REVIEWS = \"SET_REVIEW\";\nconst INITIAL_REVIEWS = \"INITIAL_REVIEWS\";\nlet initialState = {\n  reviews: []\n};\n\nconst ReviewsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIAL_REVIEWS:\n      return initialState;\n\n    case SET_REVIEWS:\n      return { ...state,\n        reviews: [action.item]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setItemOfReview = item => ({\n  type: SET_REVIEWS,\n  item\n});\nexport const clearReview = () => ({\n  type: INITIAL_REVIEWS\n});\nexport const setReviews = (data, goodsId, reviewText, rating) => (dispatch, getState) => {\n  testAPI.setReviews(getState().auth.user.name, getState().auth.userInform.inform.userImage, data, goodsId, reviewText, rating).then(response => {\n    if (response.data.success) {\n      dispatch(returnSuccess(response.data.message, response.status, 'SUCCESS_FILE_UPLOAD'));\n      dispatch(clearReview());\n    } else {\n      dispatch(returnErrors(response.data.message, response.status, 'ERRORS_FILE_UPLOAD'));\n    }\n  });\n};\nexport default ReviewsReducer;","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/ReviewsReducer.js"],"names":["testAPI","returnErrors","returnSuccess","SET_REVIEWS","INITIAL_REVIEWS","initialState","reviews","ReviewsReducer","state","action","type","item","setItemOfReview","clearReview","setReviews","data","goodsId","reviewText","rating","dispatch","getState","auth","user","name","userInform","inform","userImage","then","response","success","message","status"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AAEA,SAASC,YAAT,EAAsBC,aAAtB,QAA2C,uBAA3C;AACA,MAAMC,WAAW,GAAC,YAAlB;AACA,MAAMC,eAAe,GAAC,iBAAtB;AACA,IAAIC,YAAY,GAAC;AACbC,EAAAA,OAAO,EAAC;AADK,CAAjB;;AAIA,MAAMC,cAAc,GAAC,CAACC,KAAK,GAACH,YAAP,EAAoBI,MAApB,KAA6B;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKN,eAAL;AACI,aAAOC,YAAP;;AACJ,SAAKF,WAAL;AACL,aAAM,EAAC,GAAGK,KAAJ;AAAUF,QAAAA,OAAO,EAAC,CAACG,MAAM,CAACE,IAAR;AAAlB,OAAN;;AACK;AACI,aAAOH,KAAP;AANR;AAQH,CATD;;AAWA,OAAO,MAAMI,eAAe,GAAED,IAAD,KAAS;AAACD,EAAAA,IAAI,EAACP,WAAN;AAAkBQ,EAAAA;AAAlB,CAAT,CAAtB;AACP,OAAO,MAAME,WAAW,GAAC,OAAK;AAACH,EAAAA,IAAI,EAACN;AAAN,CAAL,CAAlB;AAEP,OAAO,MAAMU,UAAU,GAAC,CAACC,IAAD,EAAMC,OAAN,EAAcC,UAAd,EAAyBC,MAAzB,KAAkC,CAACC,QAAD,EAAUC,QAAV,KAAqB;AAC3EpB,EAAAA,OAAO,CAACc,UAAR,CAAmBM,QAAQ,GAAGC,IAAX,CAAgBC,IAAhB,CAAqBC,IAAxC,EAA6CH,QAAQ,GAAGC,IAAX,CAAgBG,UAAhB,CAA2BC,MAA3B,CAAkCC,SAA/E,EAAyFX,IAAzF,EAA8FC,OAA9F,EAAsGC,UAAtG,EAAiHC,MAAjH,EAAyHS,IAAzH,CAA8HC,QAAQ,IAAE;AAChI,QAAIA,QAAQ,CAACb,IAAT,CAAcc,OAAlB,EAA2B;AACvBV,MAAAA,QAAQ,CAACjB,aAAa,CAAC0B,QAAQ,CAACb,IAAT,CAAce,OAAf,EAAuBF,QAAQ,CAACG,MAAhC,EAAuC,qBAAvC,CAAd,CAAR;AACAZ,MAAAA,QAAQ,CAACN,WAAW,EAAZ,CAAR;AACH,KAHD,MAGO;AACHM,MAAAA,QAAQ,CAAClB,YAAY,CAAC2B,QAAQ,CAACb,IAAT,CAAce,OAAf,EAAuBF,QAAQ,CAACG,MAAhC,EAAuC,oBAAvC,CAAb,CAAR;AACH;AACR,GAPD;AAQD,CATI;AAWP,eAAexB,cAAf","sourcesContent":["import {testAPI} from '../api/api'\n\nimport { returnErrors,returnSuccess } from './SuccessErrorReducer'\nconst SET_REVIEWS=\"SET_REVIEW\"\nconst INITIAL_REVIEWS=\"INITIAL_REVIEWS\"\nlet initialState={\n    reviews:[]\n}\n\nconst ReviewsReducer=(state=initialState,action)=>{\n    switch (action.type) {\n        case INITIAL_REVIEWS:\n            return initialState\n        case SET_REVIEWS:\n   return{...state,reviews:[action.item]}\n        default:\n            return state;      \n    }\n}\n\nexport const setItemOfReview=(item)=>({type:SET_REVIEWS,item})\nexport const clearReview=()=>({type:INITIAL_REVIEWS})\n\nexport const setReviews=(data,goodsId,reviewText,rating)=>(dispatch,getState)=>{\n    testAPI.setReviews(getState().auth.user.name,getState().auth.userInform.inform.userImage,data,goodsId,reviewText,rating).then(response=>{\n            if (response.data.success) {\n                dispatch(returnSuccess(response.data.message,response.status,'SUCCESS_FILE_UPLOAD'))\n                dispatch(clearReview())\n            } else {\n                dispatch(returnErrors(response.data.message,response.status,'ERRORS_FILE_UPLOAD'))\n            }\n    })\n  }\n\nexport default ReviewsReducer"]},"metadata":{},"sourceType":"module"}