{"ast":null,"code":"import { uniqBy } from 'lodash';\nimport { fromJS } from 'immutable';\nconst CARD_ADD_ITEMS = \"CARD_ADD_ITEMS\";\nconst CARD_REMOVE_ITEMS = \"CARD_REMOVE_ITEMS\";\nconst REMOVE_CARD_ITEMS = \"REMOVE_CARD_ITEMS\";\nlet initialState = fromJS({\n  items: [],\n  isLoaded: false,\n  totalPrice: 0\n});\n\nconst CardReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CARD_ADD_ITEMS:\n      debugger;\n      return state.setIn(['items', action.payload], items.get(payload).set('quantity', 1));\n    //return{...state, items:uniqBy(state.items, i => i._id),isLoaded:true}\n\n    case CARD_REMOVE_ITEMS:\n      return { ...state,\n        items: state.items.filter(i => i._id !== action.itemId)\n      };\n\n    case REMOVE_CARD_ITEMS:\n      return {\n        items: [],\n        totalPrice: null,\n        totalItemCount: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setProduct = payload => ({\n  type: CARD_ADD_ITEMS,\n  payload\n});\nexport const clearCardItems = () => ({\n  type: REMOVE_CARD_ITEMS\n});\nexport const removeProduct = itemId => ({\n  type: CARD_REMOVE_ITEMS,\n  itemId\n});\nexport default CardReducer;","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/CardReducer.js"],"names":["uniqBy","fromJS","CARD_ADD_ITEMS","CARD_REMOVE_ITEMS","REMOVE_CARD_ITEMS","initialState","items","isLoaded","totalPrice","CardReducer","state","action","type","setIn","payload","get","set","filter","i","_id","itemId","totalItemCount","setProduct","clearCardItems","removeProduct"],"mappings":"AACA,SAASA,MAAT,QAAuB,QAAvB;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,MAAMC,cAAc,GAAC,gBAArB;AACA,MAAMC,iBAAiB,GAAC,mBAAxB;AACA,MAAMC,iBAAiB,GAAC,mBAAxB;AAEA,IAAIC,YAAY,GAACJ,MAAM,CAAC;AACtBK,EAAAA,KAAK,EAAC,EADgB;AAEtBC,EAAAA,QAAQ,EAAC,KAFa;AAGtBC,EAAAA,UAAU,EAAC;AAHW,CAAD,CAAvB;;AAMA,MAAMC,WAAW,GAAC,CAACC,KAAK,GAACL,YAAP,EAAoBM,MAApB,KAA6B;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACA,SAAKV,cAAL;AACE;AACA,aAAOQ,KAAK,CAACG,KAAN,CAAY,CAAC,OAAD,EAAUF,MAAM,CAACG,OAAjB,CAAZ,EAAuCR,KAAK,CAACS,GAAN,CAAUD,OAAV,EAAmBE,GAAnB,CAAuB,UAAvB,EAAmC,CAAnC,CAAvC,CAAP;AACF;;AACI,SAAKb,iBAAL;AACI,aAAM,EACF,GAAGO,KADD;AAEFJ,QAAAA,KAAK,EAACI,KAAK,CAACJ,KAAN,CAAYW,MAAZ,CAAmBC,CAAC,IAAEA,CAAC,CAACC,GAAF,KAAQR,MAAM,CAACS,MAArC;AAFJ,OAAN;;AAIA,SAAKhB,iBAAL;AACE,aAAM;AAACE,QAAAA,KAAK,EAAC,EAAP;AAAUE,QAAAA,UAAU,EAAC,IAArB;AAA0Ba,QAAAA,cAAc,EAAC;AAAzC,OAAN;;AACT;AAAQ,aAAOX,KAAP;AAZT;AAeF,CAhBD;;AAkBA,OAAO,MAAMY,UAAU,GAAER,OAAD,KAAY;AAACF,EAAAA,IAAI,EAACV,cAAN;AAAqBY,EAAAA;AAArB,CAAZ,CAAjB;AACP,OAAO,MAAMS,cAAc,GAAC,OAAK;AAACX,EAAAA,IAAI,EAACR;AAAN,CAAL,CAArB;AACP,OAAO,MAAMoB,aAAa,GAAEJ,MAAD,KAAW;AAACR,EAAAA,IAAI,EAACT,iBAAN;AAAwBiB,EAAAA;AAAxB,CAAX,CAApB;AAGP,eAAeX,WAAf","sourcesContent":["\nimport { uniqBy } from 'lodash'\nimport { fromJS } from 'immutable';\n\nconst CARD_ADD_ITEMS=\"CARD_ADD_ITEMS\"\nconst CARD_REMOVE_ITEMS=\"CARD_REMOVE_ITEMS\"\nconst REMOVE_CARD_ITEMS=\"REMOVE_CARD_ITEMS\"\n\nlet initialState=fromJS({\n  items:[],\n  isLoaded:false,\n  totalPrice:0\n})\n\nconst CardReducer=(state=initialState,action)=>{\n   switch(action.type){\n   case CARD_ADD_ITEMS:\n     debugger\n     return state.setIn(['items', action.payload], items.get(payload).set('quantity', 1));\n   //return{...state, items:uniqBy(state.items, i => i._id),isLoaded:true}\n       case CARD_REMOVE_ITEMS:\n           return{\n               ...state,\n               items:state.items.filter(i=>i._id!==action.itemId)\n           }\n           case REMOVE_CARD_ITEMS:\n             return{items:[],totalPrice:null,totalItemCount:null}\n    default:return state;\n   }\n  \n}\n\nexport const setProduct=(payload)=>({type:CARD_ADD_ITEMS,payload})\nexport const clearCardItems=()=>({type:REMOVE_CARD_ITEMS})\nexport const removeProduct=(itemId)=>({type:CARD_REMOVE_ITEMS,itemId})\n\n\nexport default CardReducer"]},"metadata":{},"sourceType":"module"}