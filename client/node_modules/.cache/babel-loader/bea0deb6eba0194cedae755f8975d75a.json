{"ast":null,"code":"import * as axios from \"axios\";\nimport { saveProfile, savePhoto } from \"../redux/UsersReducer\";\nconst baseUrl = \"https://social-network.samuraijs.com/api/1.0/\";\nconst baseUrlTest = \"http://localhost:5000/\";\nlet instance = axios.create({\n  baseUrl: baseUrl,\n  withCredentials: true,\n  headers: {\n    \"API-KEY\": \"34b87ad1-2221-48b1-ac66-9b97be6c625a\"\n  }\n});\nlet instanceTest = axios.create({\n  baseUrlTest: baseUrlTest,\n  headers: {\n    \"x-auth-token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVlOWViZmQyM2YzNzBlMGU4NzBiNzAxMSIsImlhdCI6MTU4NzQ2MjA5OCwiZXhwIjoxNTg3NDY1Njk4fQ.R9uDqq6r4q_pYNFwnmQ3nQ41htaM456l9CnVmavbtOY\"\n  }\n});\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance.get(baseUrl + `users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\n  },\n\n  getStatus(user_id) {\n    return instance.get(baseUrl + `profile/status/${user_id}`).then(response => response.data);\n  },\n\n  updateStatus(status) {\n    return instance.put(baseUrl + 'profile/status/', {\n      status: status\n    }).then(response => response.data);\n  },\n\n  getProfileInform(user_id) {\n    return instance.get(baseUrl + `profile/${user_id}`);\n  },\n\n  saveProfile(profile) {\n    return instance.put(baseUrl + 'profile', profile);\n  },\n\n  savePhoto(photo) {\n    debugger;\n    const photoData = new FormData();\n    photoData.append(\"image\", photo);\n    return instance.put(baseUrl + 'profile/photo', photoData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n\n};\nexport const authAPI = {\n  getAuth: () => instance.get(baseUrl + \"/auth/me\")\n};\nexport const testAPI = {\n  getMyUsers() {\n    return axios.get(\"http://localhost:5000/users\").then(response => response.data);\n  },\n\n  getGoods() {\n    return axios.get(\"http://localhost:5000/goods\").then(response => response.data);\n  },\n\n  login(email, password) {\n    return axios.post(\"http://localhost:5000/auth/\", {\n      email,\n      password\n    });\n  },\n\n  register(name, email, password) {\n    return axios.post(\"http://localhost:5000/users\", {\n      name,\n      email,\n      password\n    });\n  },\n\n  getAuth(token) {\n    return instanceTest.get(\"http://localhost:5000/auth/user\", {\n      token\n    });\n  }\n\n};\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(baseUrl + 'security/get-captcha-url');\n  }\n\n};","map":{"version":3,"sources":["/Volumes/Anton/FullStack/myApp/client/src/api/api.js"],"names":["axios","saveProfile","savePhoto","baseUrl","baseUrlTest","instance","create","withCredentials","headers","instanceTest","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getStatus","user_id","updateStatus","status","put","getProfileInform","profile","photo","photoData","FormData","append","authAPI","getAuth","testAPI","getMyUsers","getGoods","login","email","password","post","register","name","token","securityAPI","getCaptchaUrl"],"mappings":"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","sourcesContent":["import * as axios from \"axios\";\nimport { saveProfile, savePhoto } from \"../redux/UsersReducer\";\n\nconst baseUrl=\"https://social-network.samuraijs.com/api/1.0/\";\nconst baseUrlTest=\"http://localhost:5000/\";\n\nlet instance = axios.create({\n  baseUrl: baseUrl,\n  withCredentials: true,\n  headers:{\n  \"API-KEY\":\"34b87ad1-2221-48b1-ac66-9b97be6c625a\"\n  }\n});\n\nlet instanceTest=axios.create({\n  baseUrlTest:baseUrlTest,\n  \n  headers:{\n     \"x-auth-token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVlOWViZmQyM2YzNzBlMGU4NzBiNzAxMSIsImlhdCI6MTU4NzQ2MjA5OCwiZXhwIjoxNTg3NDY1Njk4fQ.R9uDqq6r4q_pYNFwnmQ3nQ41htaM456l9CnVmavbtOY\"\n  }\n})\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance\n      .get(baseUrl + `users?page=${currentPage}&count=${pageSize}`)\n      .then(response => response.data);  \n  },\n  getStatus(user_id){\n    return instance.get(baseUrl+`profile/status/${user_id}`)\n    .then(response=>response.data)\n  },\n  updateStatus(status) {\n    return instance.put(baseUrl + 'profile/status/', {status: status})\n        .then(response => response.data)\n  },\n  getProfileInform(user_id){\n    return instance.get(baseUrl+`profile/${user_id}`)\n  },\n  saveProfile(profile){\n    return instance.put(baseUrl+'profile',profile)\n  },\n  savePhoto(photo){\n    debugger\n    const photoData=new FormData();\n    photoData.append(\"image\",photo);\n   return instance.put(baseUrl+'profile/photo',photoData,{\n     headers:{\n     'Content-Type':'multipart/form-data'\n     }\n   })\n  }\n}\n\nexport const authAPI = {\n  getAuth:()=>instance.get(baseUrl+\"/auth/me\"),\n};\n\nexport const testAPI={\n  getMyUsers(){\n    return axios.get(\"http://localhost:5000/users\")\n    .then(response=>response.data)\n  },\n  getGoods(){\n    return axios.get(\"http://localhost:5000/goods\")\n    .then(response=>response.data)\n  },\n  login(email,password){\n    return axios.post(\"http://localhost:5000/auth/\",{email,password})\n  },\n  register(name,email,password){\n    return axios.post(\"http://localhost:5000/users\",{name,email,password})\n  },\n  getAuth(token){\n    return instanceTest.get(\"http://localhost:5000/auth/user\",{token})\n  }\n \n}\nexport const securityAPI={\n  getCaptchaUrl(){\n    return instance.get(baseUrl+'security/get-captcha-url'); \n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}