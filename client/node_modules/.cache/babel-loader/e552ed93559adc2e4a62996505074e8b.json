{"ast":null,"code":"var _jsxFileName = \"/Users/anton/Downloads/myApp-1/client/src/redux/modalContext.js\";\nimport React, { Component } from \"react\";\nimport { compose } from \"redux\";\nconst ModalContext = React.createContext();\n\nclass ModalProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalOpen: false,\n      modalProduct: null,\n      inCart: false\n    };\n\n    this.addToCart = (payload, cardItems) => {\n      const {\n        price,\n        photos,\n        _id\n      } = payload;\n      const photo = photos.middle;\n      var data = {\n        photo,\n        price,\n        _id\n      };\n\n      if (cardItems.length > 0) {\n        cardItems.forEach(item => {\n          if (item._id === payload._id) {\n            item.quantity++;\n          } else {\n            this.setState({\n              inCart: true\n            });\n            props.addToCart(Object.assign({\n              size,\n              startDate,\n              endDate,\n              quantity: 1\n            }, data));\n          }\n        });\n      } else {\n        this.setState({\n          inCart: true\n        });\n        props.addToCart(Object.assign({\n          size,\n          startDate,\n          endDate,\n          quantity: 1\n        }, data));\n      }\n    };\n\n    this.openModal = product => {\n      debugger;\n      this.setState(() => {\n        return {\n          modalProduct: product,\n          modalOpen: true\n        };\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState(() => {\n        return {\n          modalProduct: null,\n          modalOpen: false\n        };\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(ModalContext.Provider, {\n      value: { ...this.state,\n        openModal: this.openModal,\n        closeModal: this.closeModal\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst ModalConsumer = ModalContext.Consumer;\nexport { ModalProvider, ModalConsumer };","map":{"version":3,"sources":["/Users/anton/Downloads/myApp-1/client/src/redux/modalContext.js"],"names":["React","Component","compose","ModalContext","createContext","ModalProvider","state","modalOpen","modalProduct","inCart","addToCart","payload","cardItems","price","photos","_id","photo","middle","data","length","forEach","item","quantity","setState","props","Object","assign","size","startDate","endDate","openModal","product","closeModal","render","children","ModalConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,OAAxB;AAEA,MAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,EAArB;;AAEA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAAA;AAAA;AAAA,SACpCK,KADoC,GAC5B;AACNC,MAAAA,SAAS,EAAE,KADL;AAENC,MAAAA,YAAY,EAAE,IAFR;AAGNC,MAAAA,MAAM,EAAC;AAHD,KAD4B;;AAAA,SAMpCC,SANoC,GAMxB,CAACC,OAAD,EAASC,SAAT,KAAuB;AACjC,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA,MAAT;AAAiBC,QAAAA;AAAjB,UAAyBJ,OAA/B;AACA,YAAMK,KAAK,GAAGF,MAAM,CAACG,MAArB;AACA,UAAIC,IAAI,GAAG;AAAEF,QAAAA,KAAF;AAASH,QAAAA,KAAT;AAAgBE,QAAAA;AAAhB,OAAX;;AAEA,UAAIH,SAAS,CAACO,MAAV,GAAmB,CAAvB,EAA0B;AACtBP,QAAAA,SAAS,CAACQ,OAAV,CAAkBC,IAAI,IAAI;AACtB,cAAIA,IAAI,CAACN,GAAL,KAAaJ,OAAO,CAACI,GAAzB,EAA8B;AAC1BM,YAAAA,IAAI,CAACC,QAAL;AACH,WAFD,MAEO;AACL,iBAAKC,QAAL,CAAc;AACZd,cAAAA,MAAM,EAAC;AADK,aAAd;AAGEe,YAAAA,KAAK,CAACd,SAAN,CAAgBe,MAAM,CAACC,MAAP,CAAc;AAAEC,cAAAA,IAAF;AAAQC,cAAAA,SAAR;AAAmBC,cAAAA,OAAnB;AAA4BP,cAAAA,QAAQ,EAAE;AAAtC,aAAd,EAAyDJ,IAAzD,CAAhB;AACH;AACJ,SATD;AAUH,OAXD,MAWO;AACL,aAAKK,QAAL,CAAc;AACZd,UAAAA,MAAM,EAAC;AADK,SAAd;AAGEe,QAAAA,KAAK,CAACd,SAAN,CAAgBe,MAAM,CAACC,MAAP,CAAc;AAAEC,UAAAA,IAAF;AAAQC,UAAAA,SAAR;AAAmBC,UAAAA,OAAnB;AAA4BP,UAAAA,QAAQ,EAAE;AAAtC,SAAd,EAAyDJ,IAAzD,CAAhB;AACH;AAEJ,KA7BqC;;AAAA,SA8BpCY,SA9BoC,GA8BxBC,OAAO,IAAI;AACrB;AACA,WAAKR,QAAL,CAAc,MAAM;AAClB,eAAO;AAAEf,UAAAA,YAAY,EAAEuB,OAAhB;AAAyBxB,UAAAA,SAAS,EAAE;AAApC,SAAP;AACD,OAFD;AAGD,KAnCmC;;AAAA,SAoCpCyB,UApCoC,GAoCvB,MAAM;AACjB,WAAKT,QAAL,CAAc,MAAM;AAClB,eAAO;AAAGf,UAAAA,YAAY,EAAC,IAAhB;AAAqBD,UAAAA,SAAS,EAAE;AAAhC,SAAP;AACD,OAFD;AAGD,KAxCmC;AAAA;;AAyCpC0B,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,YAAD,CAAc,QAAd;AACE,MAAA,KAAK,EAAE,EACL,GAAG,KAAK3B,KADH;AAELwB,QAAAA,SAAS,EAAE,KAAKA,SAFX;AAGLE,QAAAA,UAAU,EAAE,KAAKA;AAHZ,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOG,KAAKR,KAAL,CAAWU,QAPd,CADF;AAWD;;AArDmC;;AAwDtC,MAAMC,aAAa,GAAGhC,YAAY,CAACiC,QAAnC;AAEA,SAAS/B,aAAT,EAAwB8B,aAAxB","sourcesContent":["import React, { Component } from \"react\";\nimport { compose } from \"redux\";\n\nconst ModalContext = React.createContext();\n\nclass ModalProvider extends Component {\n  state = {\n    modalOpen: false,\n    modalProduct: null,\n    inCart:false\n  }\n  addToCart = (payload,cardItems) => {\n    const { price, photos, _id } = payload;\n    const photo = photos.middle;\n    var data = { photo, price, _id };\n\n    if (cardItems.length > 0) {\n        cardItems.forEach(item => {\n            if (item._id === payload._id) {\n                item.quantity++;\n            } else {\n              this.setState({\n                inCart:true\n              })\n                props.addToCart(Object.assign({ size, startDate, endDate, quantity: 1 }, data))\n            }\n        });\n    } else {\n      this.setState({\n        inCart:true\n      })\n        props.addToCart(Object.assign({ size, startDate, endDate, quantity: 1 }, data))\n    }\n\n}\n  openModal = product => {\n    debugger\n    this.setState(() => {\n      return { modalProduct: product, modalOpen: true };\n    });\n  };\n  closeModal = () => {\n    this.setState(() => {\n      return {  modalProduct:null,modalOpen: false };\n    });\n  };\n  render() {\n    return (\n      <ModalContext.Provider\n        value={{\n          ...this.state,\n          openModal: this.openModal,\n          closeModal: this.closeModal,\n        }}\n      >\n        {this.props.children}\n      </ModalContext.Provider>\n    );\n  }\n}\n\nconst ModalConsumer = ModalContext.Consumer;\n\nexport { ModalProvider, ModalConsumer };"]},"metadata":{},"sourceType":"module"}